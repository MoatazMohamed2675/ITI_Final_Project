{% extends 'base.html' %}
{% block title %}Add Order Item {% endblock %}
{% load static %}
{% block content %}
    <div class="header">
        <h1>Add Order Item</h1>
        <Button ><a href="{% url 'menu_list' %}">Go to The Menu page</a></Button>
        <Button ><a href="{% url 'customers_list' %}">Go to The Customer Page</a></Button>
        <Button ><a href="{% url 'order_list' %}">Go to The Orders page</a></Button>
    </div>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div>
            <label for="customer_name">Customer Name:</label>
            <input type="text" id="customer_name" name="customer_name" required><br>
        </div>
        <div>
            <label for="phone">Phone:</label>
            <input type="text" id="phone" name="phone" required><br>
        </div>
        <div>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email"><br>
        </div>

        <div id="items-container">
        <!-- Default first row -->
            <div class="item-row">
                <label>Item:</label>
                <select name="menu_item[]">
                    {% for item in menu_items %}
                        <option value="{{ item.id }}">{{ item.name }}</option>
                    {% endfor %}
                </select>
                <label>Quantity:</label>
                <input type="number" name="quantity[]" min="1" required>
                <button type="button" onclick="removeItem(this)">❌</button>
            </div>
        </div>

        <div id="item-template" style="display:none;">
            <div class="item-row">
                <label>Item:</label>
                <select name="menu_item[]">
                    {% for item in menu_items %}
                        <option value="{{ item.id }}">{{ item.name }}</option>
                    {% endfor %}
                </select>
                <label>Quantity:</label>
                <input type="number" name="quantity[]" min="1" >
                <button type="button" onclick="removeItem(this)">❌</button>
            </div>
        </div>

        <button type="button" onclick="addItem()">➕ Add Another Item</button>
        <br><br> 

        <button type="submit">Place Order</button>
        
    </form>
{% endblock %}