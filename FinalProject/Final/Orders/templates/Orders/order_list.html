{% extends 'base.html' %}
{% block title %}Orders{% endblock %}
{% load static %}
    {% block content %}
    <div class="header">
        <h1>Orders</h1>
         <div class="inner-div">
         <Button ><a href="{% url 'menu_list' %}">Go to The Menu page</a></Button>
         <Button ><a href="{% url 'customers_list' %}">Go to The Customer Page</a></Button>
         <Button ><a href="{% url 'order_list' %}">Go to The Orders page</a></Button>
         </div>
    </div>
    
    
    <table style="width: 95% !important;" border="1">
        <tr>
            <th>Name</th>
            <th>Phone</th>
            <th>Created At</th>
            
            <th>Order Items</th>

            <th>Total Price</th>
            <th>Actions</th>
        </tr>
        {% for order in orders %}
    <tr>
        <td>{{ order.customer_name }}</td>
        <td>{{ order.phone }}</td>
        <td>{{ order.date }}</td>
        <td>
            <ul>
                {% for order_item in order.items %}
                    <li>{{ order_item.menu_item.name }} - Quantity: {{ order_item.quantity }}</li>
                {% endfor %}
            </ul>
        </td>
        <td>{{ order.total_price }}$</td>
        <td>
            <button><a href="{% url 'delete_order' order.id %}">Delete</a></button>
            <button><a href="{% url 'update_order' order.id %}">Update</a></button>
        </td>
    </tr>
{% endfor %}

    </table>
    <button ><a href="{% url 'add_order' %}">Add order</a></button>
{% endblock %}
